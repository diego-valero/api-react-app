{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction toForm(fields, callback) {\n  let form;\n\n  try {\n    form = new FormData();\n\n    for (const key of Object.keys(fields)) {\n      let value = fields[key];\n      if (value === undefined) continue;\n\n      if (!(value instanceof Blob) && (typeof value === \"object\" || typeof value === \"function\")) {\n        value = JSON.stringify(value);\n      }\n\n      form.append(key, value);\n    }\n  } catch (e) {\n    callback(e);\n    return;\n  }\n\n  callback(null, {\n    body: form\n  });\n}\n\nexports.toForm = toForm;","map":{"version":3,"sources":["../../../src/util/multipart.web.ts"],"names":[],"mappings":";;;;;;AAIA,SAAgB,MAAhB,CAAuB,MAAvB,EAAuC,QAAvC,EAA0E;AACxE,MAAI,IAAJ;;AACA,MAAI;AACF,IAAA,IAAI,GAAG,IAAI,QAAJ,EAAP;;AACA,SAAK,MAAM,GAAX,IAAkB,MAAM,CAAC,IAAP,CAAY,MAAZ,CAAlB,EAAuC;AACrC,UAAI,KAAK,GAAG,MAAM,CAAC,GAAD,CAAlB;AACA,UAAI,KAAK,KAAK,SAAd,EAAyB;;AACzB,UACE,EAAE,KAAK,YAAY,IAAnB,MACC,OAAO,KAAP,KAAiB,QAAjB,IAA6B,OAAO,KAAP,KAAiB,UAD/C,CADF,EAGE;AACA,QAAA,KAAK,GAAG,IAAI,CAAC,SAAL,CAAe,KAAf,CAAR;AACD;;AACD,MAAA,IAAI,CAAC,MAAL,CAAY,GAAZ,EAAiB,KAAjB;AACD;AACF,GAbD,CAaE,OAAO,CAAP,EAAU;AACV,IAAA,QAAQ,CAAC,CAAD,CAAR;AACA;AACD;;AACD,EAAA,QAAQ,CAAC,IAAD,EAAO;AAAE,IAAA,IAAI,EAAE;AAAR,GAAP,CAAR;AACD;;AApBD,OAAA,CAAA,MAAA,GAAA,MAAA","sourcesContent":["import { Fields, MultipartRequest } from \"./multipart\";\n\nimport { Errback } from \"./types\";\n\nexport function toForm(fields: Fields, callback: Errback<MultipartRequest>) {\n  let form;\n  try {\n    form = new FormData();\n    for (const key of Object.keys(fields)) {\n      let value = fields[key];\n      if (value === undefined) continue;\n      if (\n        !(value instanceof Blob) &&\n        (typeof value === \"object\" || typeof value === \"function\")\n      ) {\n        value = JSON.stringify(value);\n      }\n      form.append(key, value);\n    }\n  } catch (e) {\n    callback(e);\n    return;\n  }\n  callback(null, { body: form });\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}