{"ast":null,"code":"var _jsxFileName = \"/home/diego/Documents/school/new_test/react-app/src/APIs/rest/restAPI.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport ItemDetails from './item-details';\nimport NewItem from './new-item';\nimport EditItem from './edit-item';\nimport ItemService from './shared/mock-item-service';\n\nclass RestAPI extends Component {\n  constructor(props) {\n    super(props);\n    this.itemService = new ItemService();\n    this.onSelect = this.onSelect.bind(this);\n    this.onNewItem = this.onNewItem.bind(this);\n    this.onEditItem = this.onEditItem.bind(this);\n    this.onCancel = this.onCancel.bind(this);\n    this.onCancelEdit = this.onCancelEdit.bind(this);\n    this.onCreateItem = this.onCreateItem.bind(this);\n    this.onUpdateItem = this.onUpdateItem.bind(this);\n    this.onDeleteItem = this.onDeleteItem.bind(this);\n    this.state = {\n      showDetails: false,\n      editItem: false,\n      selectedItem: null,\n      newItem: null\n    };\n  }\n\n  componentDidMount() {\n    this.getItems();\n  }\n\n  render() {\n    const items = this.state.items;\n    if (!items) return null;\n    const showDetails = this.state.showDetails;\n    const selectedItem = this.state.selectedItem;\n    const newItem = this.state.newItem;\n    const editItem = this.state.editItem;\n    const listItems = items.map(item => /*#__PURE__*/React.createElement(\"li\", {\n      key: item.link,\n      onClick: () => this.onSelect(item.link),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"item-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }\n    }, item.name), \" |  \", item.summary));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, listItems), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      name: \"button\",\n      onClick: () => this.onNewItem(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"New Item\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }), newItem && /*#__PURE__*/React.createElement(NewItem, {\n      onSubmit: this.onCreateItem,\n      onCancel: this.onCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 29\n      }\n    }), showDetails && selectedItem && /*#__PURE__*/React.createElement(ItemDetails, {\n      item: selectedItem,\n      onEdit: this.onEditItem,\n      onDelete: this.onDeleteItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 49\n      }\n    }), editItem && selectedItem && /*#__PURE__*/React.createElement(EditItem, {\n      onSubmit: this.onUpdateItem,\n      onCancel: this.onCancelEdit,\n      item: selectedItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 46\n      }\n    }));\n  }\n\n  getItems() {\n    this.itemService.retrieveItems().then(items => {\n      this.setState({\n        items: items\n      });\n    });\n  }\n\n  onSelect(itemLink) {\n    this.clearState();\n    this.itemService.getItem(itemLink).then(item => {\n      this.setState({\n        showDetails: true,\n        selectedItem: item\n      });\n    });\n  }\n\n  onCancel() {\n    this.clearState();\n  }\n\n  onNewItem() {\n    this.clearState();\n    this.setState({\n      newItem: true\n    });\n  }\n\n  onEditItem() {\n    this.setState({\n      showDetails: false,\n      editItem: true,\n      newItem: null\n    });\n  }\n\n  onCancelEdit() {\n    this.setState({\n      showDetails: true,\n      editItem: false,\n      newItem: null\n    });\n  }\n\n  onUpdateItem(item) {\n    this.clearState();\n    this.itemService.updateItem(item).then(item => {\n      this.getItems();\n    });\n  }\n\n  onCreateItem(newItem) {\n    this.clearState();\n    this.itemService.createItem(newItem).then(item => {\n      this.getItems();\n    });\n  }\n\n  onDeleteItem(itemLink) {\n    this.clearState();\n    this.itemService.deleteItem(itemLink).then(res => {\n      this.getItems();\n    });\n  }\n\n  clearState() {\n    this.setState({\n      showDetails: false,\n      selectedItem: null,\n      editItem: false,\n      newItem: null\n    });\n  }\n\n}\n\nexport default RestAPI;","map":{"version":3,"sources":["/home/diego/Documents/school/new_test/react-app/src/APIs/rest/restAPI.js"],"names":["React","Component","ItemDetails","NewItem","EditItem","ItemService","RestAPI","constructor","props","itemService","onSelect","bind","onNewItem","onEditItem","onCancel","onCancelEdit","onCreateItem","onUpdateItem","onDeleteItem","state","showDetails","editItem","selectedItem","newItem","componentDidMount","getItems","render","items","listItems","map","item","link","name","summary","retrieveItems","then","setState","itemLink","clearState","getItem","updateItem","createItem","deleteItem","res"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport ItemDetails from './item-details';\nimport NewItem from './new-item';\nimport EditItem from './edit-item';\nimport ItemService from './shared/mock-item-service';\n\n\nclass RestAPI extends Component {\n    constructor(props) {\n        super(props);\n        this.itemService = new ItemService();\n        this.onSelect = this.onSelect.bind(this);\n        this.onNewItem = this.onNewItem.bind(this);\n        this.onEditItem = this.onEditItem.bind(this);\n        this.onCancel = this.onCancel.bind(this);\n        this.onCancelEdit = this.onCancelEdit.bind(this);\n        this.onCreateItem = this.onCreateItem.bind(this);\n        this.onUpdateItem = this.onUpdateItem.bind(this);\n        this.onDeleteItem = this.onDeleteItem.bind(this);\n        this.state = {\n            showDetails: false,\n            editItem: false,\n            selectedItem: null,\n            newItem: null\n        }\n    }\n    componentDidMount() {\n        this.getItems();\n    }\n    render() {\n        const items = this.state.items;\n        if(!items) return null;\n        const showDetails = this.state.showDetails;\n        const selectedItem = this.state.selectedItem;\n        const newItem = this.state.newItem;\n        const editItem = this.state.editItem;\n        const listItems = items.map((item) =>\n            <li key={item.link} onClick={() => this.onSelect(item.link)}>\n                <span className=\"item-name\">{item.name}</span> |  {item.summary}\n            </li>\n        );\n        return (\n            <div className=\"App\">\n                <ul className=\"items\">\n                    {listItems}\n                </ul>\n                <br/>\n                <button type=\"button\" name=\"button\" onClick={() => this.onNewItem()}>New Item</button>\n                <br/>\n                {newItem && <NewItem onSubmit={this.onCreateItem} onCancel={this.onCancel}/>}\n                {showDetails && selectedItem && <ItemDetails item={selectedItem} onEdit={this.onEditItem}  onDelete={this.onDeleteItem} />}\n                {editItem && selectedItem && <EditItem onSubmit={this.onUpdateItem} onCancel={this.onCancelEdit} item={selectedItem} />}\n            </div>\n        );\n    }\n    getItems() {\n        this.itemService.retrieveItems().then(items => {\n                this.setState({items: items});\n            }\n        );\n    }\n    onSelect(itemLink) {\n        this.clearState();\n        this.itemService.getItem(itemLink).then(item => {\n                this.setState({\n                    showDetails: true,\n                    selectedItem: item\n                });\n            }\n        );\n    }\n    onCancel() {\n        this.clearState();\n    }\n    onNewItem() {\n        this.clearState();\n        this.setState({\n            newItem: true\n        });\n    }\n    onEditItem() {\n        this.setState({\n            showDetails: false,\n            editItem: true,\n            newItem: null\n        });\n    }\n    onCancelEdit() {\n        this.setState({\n            showDetails: true,\n            editItem: false,\n            newItem: null\n        });\n    }\n    onUpdateItem(item) {\n        this.clearState();\n        this.itemService.updateItem(item).then(item => {\n                this.getItems();\n            }\n        );\n    }\n    onCreateItem(newItem) {\n        this.clearState();\n        this.itemService.createItem(newItem).then(item => {\n                this.getItems();\n            }\n        );\n    }\n    onDeleteItem(itemLink) {\n        this.clearState();\n        this.itemService.deleteItem(itemLink).then(res => {\n                this.getItems();\n            }\n        );\n    }\n    clearState() {\n        this.setState({\n            showDetails: false,\n            selectedItem: null,\n            editItem: false,\n            newItem: null\n        });\n    }\n}\nexport default RestAPI;"]},"metadata":{},"sourceType":"module"}