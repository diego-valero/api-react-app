{"ast":null,"code":"var _jsxFileName = \"/home/diego/Documents/school/new_test/react-api/src/APIs/graph/components/getAllUsers.js\";\nimport * as React from 'react';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport arangojs, { aql } from \"arangojs\";\nimport { graphql, GraphQLInt, GraphQLNonNull, GraphQLObjectType, GraphQLSchema, GraphQLString } from \"graphql\";\nimport Button from \"@material-ui/core/Button\";\nconst db = arangojs({\n  url: `http://127.0.0.1:8529`,\n  databaseName: 'nodeArangoWebAppDB'\n});\n\nasync function getUsers() {\n  const collection = db.collection('User');\n  await collection.load(false);\n  let query = aql`\n      FOR user IN User\n      RETURN user\n    `;\n  let results = await db.query(query);\n  return results.next();\n}\n\nasync function addUser(username, email) {\n  const collection = db.collection('User');\n  await collection.load(false);\n  let query = aql`\n      INSERT {\n        \"usernname\": \"${username}\",\n        \"email\": \"${email}\"\n    } INTO User\n    `;\n  let results = await db.query(query);\n  return results.next();\n}\n\nlet User = new GraphQLObjectType({\n  name: 'User',\n  fields: () => ({\n    key: {\n      type: GraphQLInt\n    },\n    username: {\n      type: GraphQLString\n    },\n    email: {\n      type: GraphQLString\n    }\n  })\n});\nlet schema = new GraphQLSchema({\n  query: new GraphQLObjectType({\n    name: 'Query',\n    fields: () => ({\n      user: {\n        type: User,\n        resolve: (root, args) => {\n          return getUsers();\n        }\n      }\n    })\n  }),\n  mutation: new GraphQLObjectType({\n    name: 'Mutation',\n    fields: () => ({\n      user: {\n        type: User,\n        args: {\n          username: {\n            type: GraphQLNonNull(GraphQLString)\n          },\n          email: {\n            type: GraphQLNonNull(GraphQLString)\n          }\n        },\n        resolve: (root, args) => {\n          return addUser(args.username, args.email);\n        }\n      }\n    })\n  })\n});\n\nlet query = () => `\n        query {\n          user {\n            key\n            username\n            email\n          }\n        }\n      `;\n\nlet mutation = (username, email) => `\n        mutation {\n          user(username: \"ianMoone\", email: ${email}) {\n            key\n            username\n            email\n          }\n        }\n      `;\n\nexport const styles = theme => ({\n  button: {\n    fontSize: 'smaller',\n    borderColor: '#fff',\n    color: '#fff',\n    background: '#550055',\n    height: 60,\n    justifyContent: 'center',\n    '&:hover': {\n      background: '#310131'\n    }\n  }\n});\n\nclass GetAllUsers extends React.Component {\n  componentDidMount() {}\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      className: classes.button,\n      onClick: this.onInputClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.addUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"test\"));\n  }\n\n  async onInputClick() {\n    let result = await graphql(schema, query());\n    console.log(result);\n  }\n\n  async addUser() {\n    let result = await graphql(schema, mutation('ianMoone', 'testmail42gmailcom'));\n    console.log(result);\n  }\n\n}\n\nexport default withStyles(styles)(GetAllUsers);","map":{"version":3,"sources":["/home/diego/Documents/school/new_test/react-api/src/APIs/graph/components/getAllUsers.js"],"names":["React","withStyles","arangojs","aql","graphql","GraphQLInt","GraphQLNonNull","GraphQLObjectType","GraphQLSchema","GraphQLString","Button","db","url","databaseName","getUsers","collection","load","query","results","next","addUser","username","email","User","name","fields","key","type","schema","user","resolve","root","args","mutation","styles","theme","button","fontSize","borderColor","color","background","height","justifyContent","GetAllUsers","Component","componentDidMount","render","classes","props","onInputClick","result","console","log"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport arangojs, {aql} from \"arangojs\";\nimport {graphql, GraphQLInt, GraphQLNonNull, GraphQLObjectType, GraphQLSchema, GraphQLString} from \"graphql\";\nimport Button from \"@material-ui/core/Button\";\n\nconst db = arangojs({\n    url: `http://127.0.0.1:8529`,\n    databaseName: 'nodeArangoWebAppDB'\n})\n\nasync function getUsers() {\n    const collection = db.collection('User');\n    await collection.load(false)\n\n    let query = aql`\n      FOR user IN User\n      RETURN user\n    `\n    let results = await db.query(query)\n    return results.next()\n}\n\nasync function addUser(username, email) {\n    const collection = db.collection('User');\n    await collection.load(false)\n\n    let query = aql`\n      INSERT {\n        \"usernname\": \"${ username }\",\n        \"email\": \"${ email }\"\n    } INTO User\n    `\n    let results = await db.query(query)\n    return results.next()\n}\n\n\nlet User = new GraphQLObjectType({\n    name: 'User',\n    fields: () => ({\n        key: {\n            type: GraphQLInt\n        },\n        username: {\n            type: GraphQLString\n        },\n        email: {\n            type: GraphQLString\n        }\n    })\n})\n\nlet schema = new GraphQLSchema({\n    query: new GraphQLObjectType({\n        name: 'Query',\n        fields: () => ({\n            user: {\n                type: User,\n                resolve: (root, args) => {\n                    return getUsers()\n                },\n            }\n        })\n    }),\n\n    mutation: new GraphQLObjectType({\n        name: 'Mutation',\n        fields: () => ({\n            user: {\n                type: User,\n                args: {\n                    username: {\n                        type: GraphQLNonNull(GraphQLString)\n                    },\n                    email: {\n                        type: GraphQLNonNull(GraphQLString)\n                    },\n                },\n                resolve: (root, args) => {\n                    return addUser(args.username, args.email)\n                },\n            }\n        })\n    })\n})\n\nlet query = () => `\n        query {\n          user {\n            key\n            username\n            email\n          }\n        }\n      `\n\nlet mutation = (username, email) => `\n        mutation {\n          user(username: \"ianMoone\", email: ${ email }) {\n            key\n            username\n            email\n          }\n        }\n      `\n\nexport const styles = theme => ({\n    button: {\n        fontSize: 'smaller',\n        borderColor: '#fff',\n        color: '#fff',\n        background: '#550055',\n        height: 60,\n        justifyContent: 'center',\n        '&:hover': {\n            background: '#310131',\n        },\n    },\n});\n\nclass GetAllUsers extends React.Component {\n    componentDidMount() {\n\n    }\n\n    render() {\n        const {classes} = this.props\n\n        return (\n            <React.Fragment>\n                <Button className={classes.button} onClick={this.onInputClick}/>\n                <Button onClick={this.addUser}>test</Button>\n            </React.Fragment>\n        );\n    }\n\n    async onInputClick() {\n        let result = await graphql(schema, query())\n        console.log(result)\n    }\n\n    async addUser(){\n        let result = await graphql(schema, mutation('ianMoone', 'testmail42gmailcom'))\n        console.log(result)\n    }\n}\n\nexport default (withStyles(styles))(GetAllUsers);"]},"metadata":{},"sourceType":"module"}